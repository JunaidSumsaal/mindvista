{% load static %}
<header id="navbar" class="fixed w-full z-50 transition-all duration-300">
  <nav class="py-2.5 transition-all duration-300">
    <div
      class="flex flex-wrap items-center justify-between max-w-screen-xl px-4 mx-auto"
    >
      <a href="{% url 'landing:landing' %}" class="flex items-center">
        <img
          src="{% static 'images/logo/logo.png' %}"
          class="h-6 mr-3 sm:h-9"
          alt="MindVista Logo"
        />
        <span
          id="nav-title"
          class="self-center text-xl font-semibold whitespace-nowrap transition-colors duration-300"
        >
          MindVista
        </span>
      </a>
      <div class="flex items-center lg:order-2">
        {% if user.is_authenticated %}
        <a
          href="{% url 'dashboard:dashboard' %}"
          class="transition-colors duration-300 text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm px-4 lg:px-5 py-2 lg:py-2.5 sm:mr-2 lg:mr-0 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800"
        >
          Dashboard
        </a>
        {% else %}
        <a
          id="login-btn"
          href="{% url 'accounts:login' %}"
          class="transition-colors duration-300 px-4 lg:px-5 py-2 lg:py-2.5 sm:mr-2 font-medium rounded-lg focus:ring-4 focus:outline-none"
        >
          Log in
        </a>
        <a
          href="{% url 'accounts:register' %}"
          class="text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm px-4 lg:px-5 py-2 lg:py-2.5 sm:mr-2 lg:mr-0 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800"
        >
          Sign Up
        </a>
        {% endif %}
        <button
          data-collapse-toggle="mobile-menu-2"
          type="button"
          class="p-2 ml-1 text-sm rounded-lg lg:hidden focus:ring-2"
        >
          <span class="sr-only">Open main menu</span>
          <svg
            class="w-6 h-6"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
      <div
        id="mobile-menu-2"
        class="items-center justify-between hidden w-full lg:flex lg:w-auto lg:order-1"
      >
        <ul
          id="nav-links"
          class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"
        >
          <li><a href="#hero" class="nav-link">Home</a></li>
          <li><a href="#features" class="nav-link">Features</a></li>
          <li><a href="#testimonials" class="nav-link">Testimonials</a></li>
        </ul>
      </div>
    </div>
  </nav>
</header>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const navbar = document.getElementById("navbar");
    const navTitle = document.getElementById("nav-title");
    const loginBtn = document.getElementById("login-btn");
    const navLinks = document.querySelectorAll(".nav-link");

    function handleScroll() {
      if (window.scrollY === 0) {
        navbar.classList.remove("bg-white", "border-gray-200");
        navbar.classList.add("bg-transparent", "border-transparent");
        navTitle.classList.remove("text-gray-900");
        navTitle.classList.add("text-white");
        if (loginBtn) {
          loginBtn.classList.remove(
            "text-gray-800",
            "hover:bg-gray-50",
            "focus:ring-gray-300"
          );
          loginBtn.classList.add(
            "text-white",
            "hover:bg-gray-700",
            "focus:ring-gray-600"
          );
        }
        navLinks.forEach((link) => {
          link.classList.remove("text-gray-700", "hover:text-primary-700");
          link.classList.add("text-white", "hover:text-gray-300");
        });
      } else {
        navbar.classList.remove("bg-transparent", "border-transparent");
        navbar.classList.add("bg-white", "border-gray-200", "border-b", "border-gray-300", "shadow-md");
        navTitle.classList.remove("text-white");
        navTitle.classList.add("text-gray-900");
        if (loginBtn) {
          loginBtn.classList.remove(
            "text-white",
            "hover:bg-gray-700",
            "focus:ring-gray-600"
          );
          loginBtn.classList.add(
            "text-gray-800",
            "hover:bg-gray-50",
            "focus:ring-gray-300"
          );
        }
        navLinks.forEach((link) => {
          link.classList.remove("text-white", "hover:text-gray-300");
          link.classList.add("text-gray-700", "hover:text-primary-700");
        });
      }
    }

    window.addEventListener("scroll", handleScroll);
    handleScroll();
  });
</script>
