{% extends "../_base.html" %}

{% block content %}
<div class="flex flex-col">
<h2>Welcome, {{ request.user.first_name }}!</h2>

<!-- Tasks Overview -->
<h3>📌 Your Tasks</h3>
<ul>
    {% for task in tasks %}
        <li>{{ task.title }} - Due: {{ task.due_date }}</li>
    {% empty %}
        <li>No pending tasks 🎉</li>
    {% endfor %}
</ul>

<!-- Focus Sessions -->
<h3>⏳ Recent Focus Sessions</h3>
<ul>
    {% for session in focus_sessions %}
        <li>{{ session.task.title }} - {{ session.duration }} minutes</li>
    {% empty %}
        <li>No focus sessions yet.</li>
    {% endfor %}
</ul>

<!-- Habit Tracker -->
<h3>🔥 Your Habits</h3>
<ul>
    {% for habit in habits %}
        <li>{{ habit.name }} - Streak: {{ habit.streak }} days</li>
    {% empty %}
        <li>No habits tracked yet.</li>
    {% endfor %}
</ul>

<!-- Weekly Report -->
<h3>📊 Weekly Report</h3>
{% if report %}
    <p><strong>Focus Time:</strong> {{ report.total_focus_time }} min</p>
    <p><strong>Completed Tasks:</strong> {{ report.completed_tasks }}</p>
    <p><strong>Habit Completions:</strong> {{ report.habit_completions }}</p>
{% else %}
    <p>No report available yet.</p>
{% endif %}

</div>

{% endblock %}
